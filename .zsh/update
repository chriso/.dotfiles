# Update all the things
update() {
    if command -v brew >/dev/null; then
        brew update && brew upgrade
        brew cleanup
        rm -rf $(brew --cache)
        mkdir -p $(brew --cache)
    elif command -v emerge >/dev/null; then
        # Use eix-sync if it's available
        (command -v eix-sync >/dev/null && eix-sync -C '--ask=n') \
            || emerge --sync --ask=n
        emerge --update --deep --newuse --with-bdeps=y world @preserved-rebuild
    elif command -v apt-get >/dev/null; then
        apt-get update
        apt-get -y upgrade
    fi
}
